<!DOCTYPE html>
<html lang="fr">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=, initial-scale=1.0" />
        <title>Projet - spree</title>
        <link rel="stylesheet" href="asset/style/index.css" />
        <link
            href="https://fonts.googleapis.com/css2?family=Inter:wght@700;900&family=Roboto:wght@400;500&display=swap"
            rel="stylesheet"
        />
        <link rel="icon" type="image/png" href="asset/Logo/logo.png" />
    </head>
    <body>
        <!-- Header -->
        <header>
            <a href="index.html" class="logo-link">
                <img
                    src="asset/Logo/logo.png"
                    alt="Logo Tone Maker"
                    class="logo"
                />
            </a>
            <div class="header-center">
                <a href="contact.html">
                    <button class="btn-contact">Contact</button>
                </a>
            </div>
            <div class="header-right"></div>
            <div id="top"></div>
        </header>
        <a
            href="#top"
            class="scroll-btn"
            aria-label="Revenir en haut"
            title="Revenir en haut"
        >
            <span aria-hidden="true">↑</span>
            <span class="label">Revenir en haut</span>
        </a>
        <!-- === TON CONTENU PROJET, SANS NOUVEAU <body> === -->
        <main class="tm-case">
            <!-- HERO -->
            <section class="tm-hero">
                <figure class="tm-hero-media">
                    <img src="asset/IMG/Spree/Slide 16_9 - 1.png" alt="Tone Maker mockup" />
                </figure>

                <!-- Métadonnées du projet -->
                <ul class="tm-meta">
                    <li><span>Durée</span><b>1 mois</b></li>
                    <li><span>Problème</span><b>Choix complexe, jargon</b></li>
                    <li><span>Industry</span><b>Divertissement</b></li>
                    <li><span>Contribution</span><b>UX • UI • Prototype</b></li>
                    <li><span>Plateforme</span><b> Mobile</b></li>
                </ul>
            </section>

            <!-- Titre -->
            <section class="tm-title">
                <h1>Spree</h1>
                <p class="lead">Le Airbnb des soirées !</p>
                <section class="choix">
                    <section class="choix">
                        <button class="btn">Raisonnement UX</button>
                        <a href="#wireframe-proto" class="btn">Projets</a>
                    </section>
                    <a
                        href="https://www.figma.com/proto/n3WbrNC3tEJhiY2vJ4bpgj/Spree-me?page-id=33%3A214&node-id=239-1343&viewport=-477%2C129%2C0.21&t=gejRLtZRwdTwdpEy-1&scaling=scale-down&content-scaling=fixed&starting-point-node-id=239%3A1343"
                        class="btn"
                        >Figma</a
                    >
                </section>
            </section>

            <!-- 3 blocs -->
            <section class="tm-triptych">
                <article class="trip-card">
                    <h3>Problème</h3>
                    <p>
                        Difficile de trouver une soirée adaptée. Filtres limités
                        et infos dispersées. Navigation peu claire et résultats
                        parfois vides.
                    </p>
                </article>
                <article class="trip-card">
                    <h3>But</h3>
                    <p>
                        Simplifier la recherche et l’accès aux soirées. Proposer
                        des filtres précis et rapides. Favoriser la découverte,
                        la création et le partage.
                    </p>
                </article>
                <article class="trip-card">
                    <h3>Solution</h3>
                    <p>
                        Une app fluide avec filtres (participants, thème,
                        distance). Cartes visuelles claires et navigation
                        simple. Fonctionnalités sociales : sauvegardes,
                        feedback, communauté.
                    </p>
                </article>
            </section>

            <!-- Timeline rail -->
            <section class="tm-timeline rail-view">
                <div class="tl-head"><h2>Project Timeline</h2></div>
                <ol class="rail-track">
                    <li class="milestone">
                        <div class="iconbox">
                            <img
                                src="asset/Icon/category_thin.png"
                                alt="Étude de marché"
                                class="etude-marche-icon"
                            />
                        </div>
                        <span class="stem"></span>
                        <div class="caption">
                            <h4>Exploration</h4>
                            <span class="days">5 j</span>
                        </div>
                    </li>
                    <li class="milestone">
                        <div class="iconbox">
                            <img
                                src="asset/Icon/stack_hexagon_thin.png"
                                alt="Étude de marché"
                                class="etude-marche-icon"
                            />
                        </div>
                        <span class="stem"></span>
                        <div class="caption">
                            <h4>Benchmark</h4>
                            <span class="days">4 j</span>
                        </div>
                    </li>
                    <li class="milestone">
                        <div class="iconbox">
                            <img
                                src="asset/Icon/search regular_thin.png"
                                alt="Étude de marché"
                                class="etude-marche-icon"
                            />
                        </div>
                        <span class="stem"></span>
                        <div class="caption">
                            <h4>Recherche</h4>
                            <span class="days">5 j</span>
                        </div>
                    </li>
                    <li class="milestone">
                        <div class="iconbox">
                            <img
                                src="asset/Icon/shining-line_thin.png"
                                alt="Étude de marché"
                                class="etude-marche-icon"
                            />
                        </div>
                        <span class="stem"></span>
                        <div class="caption">
                            <h4>Idéation</h4>
                            <span class="days">7 j</span>
                        </div>
                    </li>
                    <li class="milestone">
                        <div class="iconbox">
                            <img
                                src="asset/Icon/wireframe_thin.png"
                                alt="Étude de marché"
                                class="etude-marche-icon"
                            />
                        </div>
                        <span class="stem"></span>
                        <div class="caption">
                            <h4>Wireframes</h4>
                            <span class="days">5 j</span>
                        </div>
                    </li>
                    <li class="milestone">
                        <div class="iconbox">
                            <img
                                src="asset/Icon/ui-thin.png"
                                alt="Étude de marché"
                                class="etude-marche-icon"
                            />
                        </div>
                        <span class="stem"></span>
                        <div class="caption">
                            <h4>UI & Proto</h4>
                            <span class="days">4 j</span>
                        </div>
                    </li>
                </ol>
            </section>
        </main>
        <section class="tm-research">
            <h2 class="tm-research__title">Questionnaire exploratoire</h2>

            <div class="tmc-carousel" aria-label="Résultats du questionnaire">
                <button class="tmc-btn tmc-prev" aria-label="Précédent">
                    ‹
                </button>

                <div class="tmc-viewport">
                    <div class="tmc-track">
                        <!-- 3 cards existantes -->
                        <article class="tmc-slide">
                            <img
                                src="asset/IMG/reservation.png"
                                alt="Groupe intéressé par la customisation"
                            />
                            <h3>Réservation simple et rapide !</h3>
                            <p>
                                78 % des personnes souhaiteraient un système de
                                réservation simple et rapide, sans étapes
                                inutiles
                            </p>
                        </article>

                        <article class="tmc-slide">
                            <img
                                src="asset/IMG/sécuriter.png"
                                alt="Jouer de la guitare rock"
                            />
                            <h3>Garanties de sécurité</h3>
                            <p>
                                71 % des personnes aimeraient avoir plus de
                                garanties de sécurité (vérification des profils,
                                avis fiables)
                            </p>
                        </article>

                        <article class="tmc-slide">
                            <img
                                src="asset/IMG/rooftop.png"
                                alt="Jeune adulte 18–25 ans jouant de la guitare"
                            />
                            <h3>Soirées par thème</h3>
                            <p>
                                66 % des personnes voudraient pouvoir filtrer
                                facilement les soirées par thème (cinéma, jeux,
                                danse, rooftops, etc.).
                            </p>
                        </article>

                        <!-- 3 nouvelles cards -->
                        <article class="tmc-slide">
                            <img
                                src="asset/IMG/ChatGPT Image 16 sept. 2025, 00_44_22.png"
                                alt="Guitare customisée, style original"
                            />
                            <h3>Nombre exact</h3>
                            <p>
                                59 % des personnes souhaitent voir le nombre
                                exact de participants confirmés avant de
                                réserver.
                            </p>
                        </article>

                        <article class="tmc-slide">
                            <img
                                src="asset/IMG/paiement.png"
                                alt="Personne jouant une guitare acoustique"
                            />
                            <h3>Paiement sécurisé</h3>
                            <p>
                                54 % des personnes aimeraient un paiement
                                sécurisé intégré directement dans l’application.
                            </p>
                        </article>

                        <article class="tmc-slide">
                            <img
                                src="asset/IMG/notation.png"
                                alt="Essai de guitare en magasin"
                            />
                            <h3>Système de notes</h3>
                            <p>
                                47 % des personnes voudraient un système de
                                notes et commentaires pour évaluer les soirées
                                et les organisateurs.
                            </p>
                        </article>
                    </div>
                </div>

                <button class="tmc-btn tmc-next" aria-label="Suivant">›</button>
            </div>
        </section>

        <section class="persona-section">
            <h2 class="persona-title">Personaes</h2>

            <div class="persona-carousel" aria-label="Carrousel des personaes">
                <div class="persona-viewport">
                    <div class="persona-track">
                        <!-- Persona 1 -->
                        <article class="persona-card">
                            <img
                                src="asset/IMG/etudiante spree.png"
                                alt="Persona Cœur de cible"
                            />
                            <div class="persona-content">
                                <h3>Sofia, 22 ans – Cœur de cible</h3>
                                <p>
                                    <strong>Bio :</strong> Étudiante en
                                    communication à Paris, adore sortir avec ses
                                    amis le week-end.
                                </p>
                                <p>
                                    <strong>Objectifs :</strong> Trouver
                                    facilement des soirées à thème (danse,
                                    rooftop, jeux), sécuriser ses réservations
                                    en ligne.
                                </p>
                                <p>
                                    <strong>Frustrations :</strong> Trop
                                    d’événements mal organisés, peur des
                                    arnaques, manque de transparence sur le
                                    nombre de participants confirmés.
                                </p>
                            </div>
                        </article>

                        <!-- Persona 2 -->
                        <article class="persona-card">
                            <img
                                src="asset/IMG/etudiant.png"
                                alt="Persona principale"
                            />
                            <div class="persona-content">
                                <h3>Mehdi, 26 ans – Cible principale</h3>
                                <p>
                                    <strong>Bio :</strong> Jeune actif en
                                    startup, organise souvent des soirées entre
                                    collègues et amis.
                                </p>
                                <p>
                                    <strong>Objectifs :</strong> Réserver
                                    rapidement pour un groupe, avoir un paiement
                                    sécurisé intégré, choisir un thème qui plaît
                                    à tous.
                                </p>
                                <p>
                                    <strong>Frustrations :</strong> Perte de
                                    temps dans les recherches, manque de filtres
                                    précis (thème, distance), absence d’avis
                                    fiables pour se décider.v
                                </p>
                            </div>
                        </article>

                        <!-- Persona 3 -->
                        <article class="persona-card">
                            <img
                                src="asset/IMG/d0b86605-568a-40f1-9e7c-3b86cca196ca.png"
                                alt="Persona secondaire"
                            />
                            <div class="persona-content">
                                <h3>Camille, 30 ans – Cible secondaire</h3>
                                <p>
                                    <strong>Bio :</strong>Freelance en design,
                                    aime tester des expériences originales en
                                    soirée.
                                </p>
                                <p>
                                    <strong>Objectifs :</strong> Découvrir des
                                    événements différents (cinéma en plein air,
                                    rooftops), consulter les notes/commentaires
                                    avant de réserver.
                                </p>
                                <p>
                                    <strong>Frustrations :</strong> Difficulté à
                                    savoir si l’événement vaut le prix, pas
                                    assez de garanties de sécurité, pas de mode
                                    tutoriel clair pour comprendre l’app.
                                </p>
                            </div>
                        </article>
                    </div>
                </div>
            </div>
        </section>
        <section class="journey">
            <h2 class="journey-title">User Journey</h2>

            <div class="journey-table">
                <table>
                    <thead>
                        <tr>
                            <th>Stages</th>
                            <th>Découverte</th>
                            <th>Recherche</th>
                            <th>Réservation</th>
                            <th>Participation</th>
                            <th>Paiement</th>
                            <th>Fidélisation</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td class="row-label">User goals</td>
                            <td>Découvrir les soirées disponibles</td>
                            <td>Trouver une soirée selon ses critères</td>
                            <td>Réserver facilement sa place</td>
                            <td>Vérifier les participants confirmés</td>
                            <td>Payer en toute sécurité</td>
                            <td>Laisser un avis & revenir</td>
                        </tr>
                        <tr>
                            <td class="row-label">Activities</td>
                            <td>Découvre Spree via réseaux sociaux</td>
                            <td>Filtre par thème, distance, participants</td>
                            <td>
                                Choisit une soirée & confirme sa réservation
                            </td>
                            <td>Rejoint l’événement avec ses amis</td>
                            <td>Utilise le paiement intégré sécurisé</td>
                            <td>Note la soirée & consulte d’autres avis</td>
                        </tr>
                        <tr>
                            <td class="row-label">Touchpoints & channels</td>
                            <td>Instagram, TikTok, bouche-à-oreille</td>
                            <td>App mobile Spree</td>
                            <td>Interface de réservation</td>
                            <td>Carte participants + notifications</td>
                            <td>Système de paiement in-app</td>
                            <td>Profil, avis, communauté Spree</td>
                        </tr>
                        <tr class="row-emotions">
                            <td class="row-label">Emotions</td>
                            <td colspan="6" class="emotion-cell">
                                <div
                                    class="emotion-graph"
                                    role="img"
                                    aria-label="Courbe de satisfaction"
                                >
                                    <svg
                                        viewBox="0 0 1000 160"
                                        preserveAspectRatio="none"
                                    ></svg>
                                    <div
                                        class="emotion-emojis"
                                        aria-hidden="true"
                                    ></div>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td class="row-label">Pain points</td>
                            <td>Peu de clarté sur les soirées</td>
                            <td>Filtres insuffisants</td>
                            <td>Réservation compliquée</td>
                            <td>
                                Pas de visibilité sur le nombre de participants
                            </td>
                            <td>Doute sur la sécurité du paiement</td>
                            <td>Manque d’avis fiables & suivi</td>
                        </tr>
                        <tr>
                            <td class="row-label">Improvement opportunities</td>
                            <td>
                                Campagnes claires pour nouveaux utilisateurs
                            </td>
                            <td>Filtres avancés (thème, lieu, prix)</td>
                            <td>Processus de réservation simplifié</td>
                            <td>Affichage des participants confirmés</td>
                            <td>Paiement sécurisé intégré</td>
                            <td>Système de notes & commentaires</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </section>

        <section class="bm-section" id="benchmark">
            <h2 class="bm-title">Benchmark</h2>

            <h3 class="bm-sub">Concurrents directs :</h3>
            <div class="bm-grid">
                <!-- 01 Warmoth -->
                <article class="bm-card pastel-green">
                    <div class="bm-badge">01</div>
                    <img
                        class="bm-logo"
                        src="asset/IMG/meetup-icon.webp"
                        alt="Warmoth"
                    />

                    <p class="bm-desc">
                        Meetup est une plateforme en ligne qui permet aux gens
                        d’organiser ou de rejoindre des événements et activités
                        autour de centres d’intérêt communs.
                    </p>
                </article>

                <!-- 02 Halo Custom Guitars -->
                <article class="bm-card pastel-mint">
                    <div class="bm-badge">02</div>
                    <img
                        class="bm-logo"
                        src="asset/IMG/Eventbrite_Logo.svg.png"
                        alt="Halo Custom Guitars"
                    />

                    <p class="bm-desc">
                        Eventbrite est une plateforme en ligne dédiée à la
                        création, la gestion et la billetterie d’événements.
                    </p>
                </article>
            </div>

            <h3 class="bm-sub">Concurrents indirects :</h3>
            <div class="bm-grid">
                <!-- 03 Thomann -->
                <article class="bm-card pastel-peach">
                    <div class="bm-badge">03</div>
                    <img
                        class="bm-logo"
                        src="asset/IMG/image 4.png"
                        alt="Thomann"
                    />

                    <p class="bm-desc">
                        Outil français qui permet d’organiser des événements,
                        gérer les inscriptions et proposer une billetterie en
                        ligne. Il est beaucoup utilisé pour les conférences,
                        salons et événements professionnels.
                    </p>
                </article>

                <!-- 04 The Gear Page -->
                <article class="bm-card pastel-lavender">
                    <div class="bm-badge">04</div>
                    <img
                        class="bm-logo"
                        src="asset/IMG/image 29.png"
                        alt="The Gear Page"
                    />

                    <p class="bm-desc">
                        Plateforme européenne centrée sur les événements
                        culturels et sociaux. Elle permet aux organisateurs de
                        créer un événement et de vendre facilement des billets
                        en ligne, avec un focus sur les petites et moyennes
                        soirées.
                    </p>
                </article>
            </div>
        </section>

        <section class="idea-section" id="ideation">
            <h2 class="idea-title">Idéation</h2>

            <figure class="idea-figure">
                <img src="asset/IMG/idéation.png" alt="Idéation – Tone Maker" />
            </figure>
        </section>
        <section class="wf-section" id="wireframe-proto">
            <h2 class="wf-title">Wireframe</h2>

            <figure class="wf-figure">
                <img
                    src="asset/IMG/WIRESPREE.png"
                    alt="Wireframe et Prototypage – Tone Maker"
                />
            </figure>
        </section>
        <section class="proto-section" id="prototype">
            <h2 class="proto-title">Preview Spree</h2>

            <figure class="proto-figure">
                <div class="proto-clip">
                    <video class="proto-video" controls>
                        <source
                            src="asset/Video/Spree me - Figma 2025-09-17 18-19-04.mp4"
                            type="video/mp4"
                        />
                    </video>
                </div>
            </figure>
        </section>
        <!-- ACCUEIL -->
        <section id="accueil-spree" class="accueil-section">
            <h2 class="accueil-title">Home</h2>

            <div class="accueil-grid">
                <div class="img1">
                    <img
                        src="asset/IMG/Spree/1.png"
                        alt="Écran Home de Spree"
                    />
                    <h3>Choisissez votre soirée idéale !</h3>
                    <p>Le lieu, le thème, le nombre de participants !</p>
                </div>

                <div class="img2">
                    <img
                        src="asset/IMG/Spree/2.png"
                        alt="Templates de thèmes"
                    />
                    <h3>Checkez si la soirée est faite pour vous</h3>
                    <p>Ayez accès à tout l'inventaire du lieu !</p>
                </div>
            </div>
        </section>

        <!-- RECHERCHE -->
        <section class="accueil-section spree">
            <h2 class="accueil-title">Recherche</h2>

            <div class="accueil-grid">
                <div class="img1">
                    <img
                        src="asset/IMG/Spree/4.png"
                        alt="Recherche de partenaires"
                    />
                    <h3>Recherchez les soirées près de chez vous !</h3>
                    <p>Recherche par addresses</p>
                </div>
            </div>
        </section>

        <!-- PAGE INTROUVABLE (Empty state) -->
        <section class="accueil-section spree">
            <h2 class="accueil-title">Page introuvable</h2>

            <div class="accueil-grid">
                <div class="img1">
                    <img
                        src="asset/IMG/Spree/7.png"
                        alt="État vide / page introuvable"
                    />
                    <h3>Page introuvable</h3>
                </div>
            </div>
        </section>

        <!-- PAGE INTROUVABLE (Empty state) -->
        <section class="accueil-section spree">
            <h2 class="accueil-title">Création de soirée</h2>

            <div class="accueil-grid">
                <div class="img1">
                    <img
                        src="asset/IMG/Spree/iPhone 14 Pro - 13.png"
                        alt="État vide / page introuvable"
                    />
                    <h3>Intégrez-vous directement à une soirée thème !</h3>
                    <p>
                        Avec un nombre, lieu,thème et participants déjà choisis
                    </p>
                </div>
                <div class="img2">
                    <img
                        src="asset/IMG/Spree/iPhone 14 Pro - 15.png"
                        alt="Types de partenaires"
                    />
                    <h3>Avec une map intégrée !</h3>
                    <p>Pour localiser les soirées les plus proches</p>
                </div>
            </div>
        </section>

        <!-- PAGE INTROUVABLE (Empty state) -->
        <section class="accueil-section spree">
            <h2 class="accueil-title">Soirées passées / réservées</h2>

            <div class="accueil-grid">
                <div class="img1">
                    <img
                        src="asset/IMG/Spree/iPhone 14 Pro - 16.png"
                        alt="État vide / page introuvable"
                    />
                    <h3>
                        Gardez l'historique de vos soirées ainsi que celles que
                        vous souhaitez rejoindre !
                    </h3>
                    <p></p>
                </div>
            </div>
        </section>

        <!-- VOIR D’AUTRES PROJETS -->
        <section class="more-projects">
            <h2 class="more-projects__title">Voir d’autres projets</h2>

            <div class="more-projects__grid">
                <!-- 1. Wikipédia -->
                <a class="card-link" href="wikipédia.html">
                    <figure class="thumb">
                        <img
                            src="asset/IMG/img_wikipedia.png"
                            alt="Aperçu du projet Wikipédia"
                            loading="lazy"
                        />
                        <figcaption>Wikipédia</figcaption>
                    </figure>
                </a>

                <!-- 2. Deviant-Art -->
                <a class="card-link" href="deviant-art.html">
                    <figure class="thumb">
                        <img
                            src="asset/IMG/img_deviant_art.png"
                            alt="Aperçu du projet Deviant-Art"
                            loading="lazy"
                        />
                        <figcaption>Deviant-Art</figcaption>
                    </figure>
                </a>

                <!-- 3. Teams -->
                <a class="card-link" href="teams.html">
                    <figure class="thumb">
                        <img
                            src="asset/IMG/img_team.png"
                            alt="Aperçu du projet Teams"
                            loading="lazy"
                        />
                        <figcaption>Teams</figcaption>
                    </figure>
                </a>
            </div>
        </section>

        <script>
            (function () {
                const viewport = document.querySelector(".tmc-viewport"); // c'est LUI qui scrolle
                const track = document.querySelector(".tmc-track");
                const prevBtn = document.querySelector(".tmc-btn.tmc-prev");
                const nextBtn = document.querySelector(".tmc-btn.tmc-next");
                if (!viewport || !track) return;

                const snapTo = (dir) => {
                    const step = viewport.clientWidth; // largeur visible (3 cards sur desktop)
                    viewport.scrollBy({ left: dir * step, behavior: "smooth" });
                };

                const updateButtons = () => {
                    const maxScroll =
                        track.scrollWidth - viewport.clientWidth - 1;
                    prevBtn.disabled = viewport.scrollLeft <= 0;
                    nextBtn.disabled = viewport.scrollLeft >= maxScroll;
                };

                prevBtn.addEventListener("click", () => snapTo(-1));
                nextBtn.addEventListener("click", () => snapTo(1));
                viewport.addEventListener("scroll", () =>
                    requestAnimationFrame(updateButtons)
                );
                window.addEventListener("resize", updateButtons);

                updateButtons();
            })();
        </script>
        <script>
            /* Courbe “Emotions” intégrée à la ligne du tableau */
            (function () {
                const wrap = document.querySelector(".emotion-graph");
                const svg = document.querySelector(".emotion-graph svg");
                const layer = document.querySelector(".emotion-emojis");
                if (!wrap || !svg || !layer) return;

                // Scores (0–100) par étape : Découverte → Recherche → Customisation → Essai → Achat → Fidélisation
                const scores = [42, 58, 78, 63, 82, 88];
                const emojis = ["🤔", "🙂", "😍", "😮", "🤩", "🥰"];

                const W = 1000,
                    H = 160; // viewBox du SVG
                const PADX = 24,
                    PADY = 18; // marges internes
                const innerW = W - PADX * 2,
                    innerH = H - PADY * 2;
                const n = scores.length;
                const xStep = innerW / (n - 1);
                const toY = (v) => PADY + ((100 - v) / 100) * innerH;
                const points = scores.map((v, i) => [PADX + i * xStep, toY(v)]);

                // Gradient
                const grad = `
    <defs>
      <linearGradient id="jgGrad" x1="0" y1="0" x2="1" y2="0">
        <stop offset="0%"  stop-color="#7d49c9"/>
        <stop offset="100%" stop-color="#3bc8d7"/>
      </linearGradient>
    </defs>`;

                // Path lissé (Catmull-Rom -> Bézier)
                function curvePath(pts) {
                    if (pts.length < 2) return "";
                    let d = `M ${pts[0][0]},${pts[0][1]}`;
                    for (let i = 0; i < pts.length - 1; i++) {
                        const p0 = pts[i === 0 ? 0 : i - 1],
                            p1 = pts[i],
                            p2 = pts[i + 1],
                            p3 = pts[i + 2] || p2;
                        const c1x = p1[0] + (p2[0] - p0[0]) / 6,
                            c1y = p1[1] + (p2[1] - p0[1]) / 6;
                        const c2x = p2[0] - (p3[0] - p1[0]) / 6,
                            c2y = p2[1] - (p3[1] - p1[1]) / 6;
                        d += ` C ${c1x},${c1y} ${c2x},${c2y} ${p2[0]},${p2[1]}`;
                    }
                    return d;
                }

                const path = curvePath(points);
                const circles = points
                    .map(
                        ([x, y]) =>
                            `<circle cx="${x}" cy="${y}" r="4.5" fill="#fff" stroke="url(#jgGrad)" stroke-width="3"/>`
                    )
                    .join("");

                svg.setAttribute("viewBox", `0 0 ${W} ${H}`);
                svg.innerHTML =
                    grad +
                    `<path d="${path}" fill="none" stroke="url(#jgGrad)" stroke-width="4"/>${circles}`;

                // Positionner les emojis (en unités CSS, donc % sur la largeur, px pour la hauteur)
                const setEmojis = () => {
                    const box = wrap.getBoundingClientRect();
                    const w = box.width,
                        h = box.height;
                    layer.innerHTML = ""; // reset
                    points.forEach(([x, y], i) => {
                        const el = document.createElement("span");
                        el.className = "emoji";
                        const left = (x / W) * 100; // % horizontal -> suit le redimensionnement
                        const top = (y / H) * h; // px vertical selon la hauteur réelle
                        el.style.left = left + "%";
                        el.style.top = top + "px";
                        el.textContent = emojis[i];
                        layer.appendChild(el);
                    });
                };

                setEmojis();
                window.addEventListener("resize", setEmojis);
            })();
        </script>
    </body>
</html>
